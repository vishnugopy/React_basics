<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <title>Hello React</title>
    <!-- Library -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <style>
        .heading {
            color: purple;
        }
    </style>
</head>

<body>
<div id="root"></div>
<script type="text/babel">

  class Consigne extends React.Component {
    render() {

      // Notez que la balise div est indispensable. Il ne faut renvoyer qu'un seul composant parent.
      return (
        <div>
            <div>
                <p>Créez un composant PanierLegumes et passez-lui en props les legumes.</p>
                <p>Dans le composant PanierLegumes, créer un composant Legume qui sera appelé autant de fois qu'il y a de légumes dans les props</p>
                <p>Dans le composant Legume, afficher le nom et le prix de chaque légume </p>
            </div>
            <div>
                <p>Créer un composant Eleves et passez-lui en props les élèves.</p>
                <p>Dans ce composant, créer un composant Eleve qui sera appelé autant de fois qu'il y a d'élève dans les props </p>
                <p>Dans le composant Eleve, afficher les infos d'un élève ainsi que la moyenne des ses notes et les alerts le concernant si il y en as</p>
            </div>
        </div>
      )
    }
  }

  class TitleComponent extends React.Component {
    render() {
      return (
        <h1>Ceci est un titre</h1>
      )
    }
  }

  // Création de composant en créant des classes
  class Hello extends React.Component {

    /**
       * Cette methode de la class Hello génère une liste de légumes en brut
       */
      listeLegumes() {
        return [
          {
            name: "Topinambour",
            prix: 15,
          },
          {
            name: "Pois chiche",
            prix: 2,
          },
          {
            name: "Salade",
            prix: 999,
          },
          {
            name: "Courgette",
            prix: 1,
          },
          {
            name: "Oignon",
            prix: 2,
          },
        ]
      }

      /**
       * Cette methode de la class Hello génère une liste d'élèves en brut
       */
      listeEleves() {
        return [
          {
            name: "Charly",
            age: 12,
            notes: [18, 14, 16, 15, 19],
            alerts : null
          },
          {
            name: "Bobbybillybouba",
            age: 15,
            notes: [8, 4, 6, 5, 9],
            alerts : ['element perturbateur', 'absenteisme repeter']
          },
          {
            name: "JeanMichelDestroyer",
            age: 16,
            notes: [12, 18, 6, 15, 11],
            alerts : ['absenteisme repeter']
          }
        ]
      }

    render() {

      const legumes = this.listeLegumes();
      const eleves = this.listeEleves();
      console.log(legumes, eleves);

      return (
        <div>
          <TitleComponent/>
          <Consigne/>
        </div>
      );
    }

  }

  // Rendu dans le DOM
  ReactDOM.render(
    <Hello/>,
    document.getElementById('root')
  );
</script>
</body>

</html>
